(this.webpackJsonpconvoblocks=this.webpackJsonpconvoblocks||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),l=n(8),o=n.n(l),c=(n(13),n(14),n(2)),a=n(4),s=(n(15),n(16),n(17),["title","titleId"]);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e,t){var n=e.title,i=e.titleId,l=d(e,s);return r.createElement("svg",u({width:"100%",height:"100%",viewBox:"0 0 167 167",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":i},l),n?r.createElement("title",{id:i},n):null,r.createElement("circle",{cx:83.333,cy:83.333,r:72.917,style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("g",{id:"add"},r.createElement("path",{d:"M83.333,31.25l0,104.167",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M31.25,83.333l104.167,0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}})))}var f=r.forwardRef(p),h=(n.p,["title","titleId"]);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=e.title,i=e.titleId,l=j(e,h);return r.createElement("svg",b({width:"100%",height:"100%",viewBox:"0 0 167 167",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":i},l),n?r.createElement("title",{id:i},n):null,r.createElement("circle",{cx:83.333,cy:83.333,r:72.917,style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("g",{id:"delete"},r.createElement("path",{d:"M120.162,46.505l-73.657,73.657",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M46.505,46.505l73.657,73.657",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}})))}var y=r.forwardRef(v),x=(n.p,["title","titleId"]);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){var n=e.title,i=e.titleId,l=O(e,x);return r.createElement("svg",k({width:"100%",height:"100%",viewBox:"0 0 167 167",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":i},l),n?r.createElement("title",{id:i},n):null,r.createElement("circle",{cx:83.333,cy:83.333,r:72.917,style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("g",{id:"menu"},r.createElement("g",null,r.createElement("path",{d:"M57.292,59.89l52.083,-0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M57.292,83.333l52.083,0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M57.292,106.777l52.083,-0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}))))}var g=r.forwardRef(m),w=(n.p,["title","titleId"]);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T(e,t){var n=e.title,i=e.titleId,l=N(e,w);return r.createElement("svg",E({width:"100%",height:"100%",viewBox:"0 0 167 167",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":i},l),n?r.createElement("title",{id:i},n):null,r.createElement("circle",{cx:83.333,cy:83.333,r:72.917,style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("g",{id:"left"},r.createElement("path",{d:"M31.25,83.333l104.167,0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M31.25,83.333l18.414,-18.414",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M31.25,83.333l18.414,18.415",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}})))}var C=r.forwardRef(T),M=(n.p,["title","titleId"]);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S(e,t){var n=e.title,i=e.titleId,l=R(e,M);return r.createElement("svg",P({width:"100%",height:"100%",viewBox:"0 0 167 167",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":i},l),n?r.createElement("title",{id:i},n):null,r.createElement("circle",{cx:83.333,cy:83.333,r:72.917,style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("g",{id:"right"},r.createElement("path",{d:"M135.417,83.333l-104.167,0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M135.417,83.333l-18.415,18.415",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M135.417,83.333l-18.415,-18.414",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}})))}var W=r.forwardRef(S),I=(n.p,["title","titleId"]);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L(e,t){var n=e.title,i=e.titleId,l=B(e,I);return r.createElement("svg",A({width:"100%",height:"100%",viewBox:"0 0 167 167",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":i},l),n?r.createElement("title",{id:i},n):null,r.createElement("circle",{cx:83.333,cy:83.333,r:72.917,style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("g",{id:"save"},r.createElement("path",{d:"M83.333,98.924l0,-52.083",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M57.292,119.826l52.083,-0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M83.333,98.924l-18.414,-18.414",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M57.292,119.826l-0,-13.021",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M109.375,119.826l-0,-13.021",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M83.333,98.924l18.415,-18.414",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}})))}var U=r.forwardRef(L),X=(n.p,["title","titleId"]);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D(e,t){var n=e.title,i=e.titleId,l=F(e,X);return r.createElement("svg",q({width:"100%",height:"100%",viewBox:"0 0 167 167",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},ref:t,"aria-labelledby":i},l),n?r.createElement("title",{id:i},n):null,r.createElement("circle",{cx:83.333,cy:83.333,r:72.917,style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("g",{id:"upload"},r.createElement("path",{d:"M83.333,46.841l0,52.083",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M57.292,119.826l52.083,-0",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M83.333,46.841l18.415,18.414",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M57.292,119.826l-0,-13.021",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M109.375,119.826l-0,-13.021",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}}),r.createElement("path",{d:"M83.333,46.841l-18.414,18.414",style:{fill:"none",stroke:"#000",strokeWidth:"12.5px"}})))}var _=r.forwardRef(D),V=(n.p,n(1)),J={add:Object(V.jsx)(f,{className:"button-icon","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 167 167"}),delete:Object(V.jsx)(y,{className:"button-icon","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 167 167"}),left:Object(V.jsx)(C,{className:"button-icon","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 167 167"}),menu:Object(V.jsx)(g,{className:"button-icon","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 167 167"}),right:Object(V.jsx)(W,{className:"button-icon","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 167 167"}),save:Object(V.jsx)(U,{className:"button-icon","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 167 167"}),upload:Object(V.jsx)(_,{className:"button-icon","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 167 167"})},H=function(e){var t=e.disabled,n=void 0!==t&&t,r=e.icon,i=e.iconOnly,l=e.onClick,o=e.text;return Object(V.jsx)("button",{className:"button ".concat(i&&"button--icon-only"),"aria-label":o,onClick:function(){return l()},disabled:n,children:Object(V.jsxs)("span",{className:"button-container",children:[r&&J[r],Object(V.jsx)("p",{className:"button-text",children:o})]})})},Y=(n(19),function(e){var t=e.buttons,n=e.className,i=e.vertical,l=t.map((function(e,t){return Object(r.createElement)(H,Object(c.a)(Object(c.a)({},e),{},{key:"buttonlist-".concat(t)}))}));return Object(V.jsx)("div",{className:"button-list ".concat(n&&n," ").concat(i&&"button-list--vertical"),children:l})}),z=n.p+"static/media/convoblocks_logo.eaa0f00a.png",G="Open Menu",K="Close Menu",Q=function(e){var t=e.buttons,n=Object(r.useState)(G),l=Object(a.a)(n,2),o=l[0],c=l[1];return Object(V.jsxs)(i.a.Fragment,{children:[Object(V.jsxs)("div",{className:"container container-controls",children:[Object(V.jsx)("img",{src:z,alt:"Convoblocks logo",className:"container-controls--logo"}),Object(V.jsx)("div",{className:"container-controls--menu container-controls--menu-desktop",children:t&&Object(V.jsx)(Y,{buttons:t})}),Object(V.jsx)("div",{className:"container-controls--menu container-controls--menu-mobile",children:Object(V.jsx)(H,{icon:"menu",iconOnly:!0,onClick:function(){c(o===G?K:G)},text:o})})]}),Object(V.jsx)("div",{className:"container-controls--menu-mobile",children:o===K&&Object(V.jsx)(Y,{buttons:t,vertical:!0})})]})},Z=n(3),$=(n(20),n(21),function(e){var t=e.content,n=e.id,r=e.onUpdate,i=e.title,l=function(e){return e.split("\n")};return Object(V.jsx)("textarea",{id:n,type:"text","aria-label":i,"aria-required":"false",onBlur:function(e){return t=e.target.value,void r(Object(Z.a)(new Set(l(t).filter((function(e){return!!e})))));var t},onChange:function(e){return t=e.target.value,void r(l(t));var t},value:t.join("\n")||""})}),ee=function(e){var t=e.participants,n=e.onUpdate;return Object(V.jsx)("div",{className:"block block-participants",children:Object(V.jsx)("div",{className:"block-participants--input",children:Object(V.jsx)($,{content:t,id:"forminput-participants",onUpdate:function(e){return n(e)},title:"Participants"})})})},te=(n(22),"boolean"),ne="text",re={TEXT:{type:"TEXT",title:"Text",options:[{title:"Title",key:"title",type:ne},{title:"Content",key:"content",type:ne}]},PARTICIPANT:{type:"PARTICIPANT",title:"Participant",options:[{title:"Title",key:"title",type:ne},{title:"Unique?",key:"isUnique",type:te,description:"Whether or not this result should be unique to all other participants drawn",default:!0},{title:"Track Turns?",key:"trackTurns",type:te,description:"Whether or not each participant should have an equal number of turns",default:!0}]},RANDOM_TEXT:{type:"RANDOM_TEXT",title:"Random Text",options:[{title:"Title",key:"title",type:ne},{title:"Content",key:"content",type:"set",description:"A list of unique items to show at random"},{title:"Track Turns?",key:"trackTurns",type:te,description:"Whether or not to run through every item without repeating",default:!1}]}},ie=function(e){var t=e.content,n=e.headerButtons,r=e.index,i=e.onUpdate,l=e.type,o=function(e){var n=e.key,o=e.value,a=Object(c.a)({},t);a[n]=o,i({index:r,item:{type:l,content:Object(c.a)({},a)}})};return Object(V.jsxs)("div",{className:"block block-edit",children:[Object(V.jsxs)("div",{className:"block-edit--header",children:[Object(V.jsx)("h2",{children:re[l].title}),Object(V.jsx)(Y,{buttons:n})]}),re[l].options.map((function(e,n){return Object(V.jsxs)("div",{className:"block-edit--input",children:[Object(V.jsx)("label",{htmlFor:"forminput-".concat(r,"-").concat(e.key),children:e.title}),{boolean:Object(V.jsx)("input",{id:"forminput-".concat(r,"-").concat(e.key),type:"checkbox","aria-label":e.title,"aria-required":"false",onChange:function(t){return o({key:e.key,value:t.target.checked})},checked:e.key in t?t[e.key]:e.default}),set:Object(V.jsx)($,{id:"forminput-".concat(r,"-").concat(e.key),onUpdate:function(t){return o({key:e.key,value:t})},content:e.key in t?t[e.key]:[],title:e.title}),text:Object(V.jsx)("input",{id:"forminput-".concat(r,"-").concat(e.key),type:"text","aria-label":e.title,"aria-required":"false",onChange:function(t){return o({key:e.key,value:t.target.value})},value:e.key in t?t[e.key]:""})}[e.type],e.description&&Object(V.jsx)("div",{className:"block-edit--description",children:Object(V.jsx)("span",{children:e.description})})]},"list-item-".concat(r,"-").concat(n))}))]})},le="Closed",oe="Open",ce=function(e){var t=e.onAdd,n=Object(r.useState)(le),i=Object(a.a)(n,2),l=i[0],o=i[1];return Object(V.jsx)("div",{className:"block block-add",children:function(){switch(l){case le:return Object(V.jsx)(H,{icon:"add",onClick:function(){return o(oe)},text:"Add Content"});case oe:return Object(V.jsx)(Y,{vertical:!0,buttons:[{icon:"delete",onClick:function(){return o(le)},text:"Close"},{onClick:function(){return t(re.TEXT.type)},text:re.TEXT.title},{onClick:function(){return t(re.PARTICIPANT.type)},text:re.PARTICIPANT.title},{onClick:function(){return t(re.RANDOM_TEXT.type)},text:re.RANDOM_TEXT.title}]});default:return}}()})},ae=function(e){var t=e.blocks,n=e.participants,l=e.onUpdate,o=function(e){l({participants:e,blocks:t})},a=function(e){var r=e.index,i=e.item,o=Object(Z.a)(t),c={};re[i].options.forEach((function(e){"default"in e&&(c[e.key]=e.default)})),o.splice(r,0,{type:i,content:c}),l({participants:n,blocks:o})},s=function(e){var r=e.index,i=e.item,o=Object(Z.a)(t);o[r]=i,l({participants:n,blocks:o})};return Object(V.jsxs)("div",{className:"container container-editor",children:[Object(V.jsxs)("div",{className:"container-editor--participants",children:[Object(V.jsx)("h2",{children:"Add Participants"}),Object(V.jsx)("p",{children:"Write a newline-separated list of people you want in your conversation. If you don't want participants, leave this section blank."}),Object(V.jsx)(ee,{participants:n,onUpdate:function(e){return o(e)}})]}),Object(V.jsx)("h2",{children:"Build Your Conversation"}),Object(V.jsx)("p",{children:"Add building blocks for your conversation. Each block serves as a different section of content in the conversation."}),Object(V.jsx)("div",{className:"container-editor--builder",children:function(){if(!t||0===t.length)return Object(V.jsx)(ce,{onAdd:function(e){return a({index:0,item:e})}});var e=t.map((function(e,o){return Object(V.jsxs)(i.a.Fragment,{children:[Object(V.jsx)(ce,{onAdd:function(e){return a({index:o,item:e})}},"Add-".concat(o)),Object(r.createElement)(ie,Object(c.a)(Object(c.a)({},e),{},{headerButtons:[{disabled:0===o,icon:"left",iconOnly:!0,onClick:function(){return function(e){if(!(e<=0||e>=t.length)){var r=Object(Z.a)(t),i=[r[e],r[e-1]];r[e-1]=i[0],r[e]=i[1],l({participants:n,blocks:r})}}(o)},text:"Move Left"},{disabled:o===t.length-1,icon:"right",iconOnly:!0,onClick:function(){return function(e){if(!(e<0||e>=t.length-1)){var r=Object(Z.a)(t),i=[r[e],r[e+1]];r[e+1]=i[0],r[e]=i[1],l({participants:n,blocks:r})}}(o)},text:"Move Right"},{icon:"delete",iconOnly:!0,onClick:function(){return function(e){var r=Object(Z.a)(t);r.splice(e,1),l({participants:n,blocks:r})}(o)},text:"Remove Block"}],index:o,key:"Modify-".concat(o),onUpdate:function(e){var t=e.index,n=e.item;return s({index:t,item:n})}}))]})}));return e.push(Object(V.jsx)(ce,{onAdd:function(e){return a({index:t.length,item:e})}},"Add-".concat(t.length))),e}()})]})},se=(n(23),n(24),function(e){var t=e.value,n=e.title;return Object(V.jsxs)("div",{className:"block block-render",children:[Object(V.jsx)("div",{className:"block-render--title",children:n&&Object(V.jsx)("h1",{className:"block-render--title-text",children:n})}),Object(V.jsx)("div",{className:"block-render--content",children:Object(V.jsx)("h2",{children:t})})]})}),ue=function(e){var t=e.blocks,n=e.participants,r=e.history,l=e.onUpdate,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(r.length>0){var t=r[r.length-1];return null!=e?t[e]:t}},c=function(e){var n=e.index,r=t[n];if(r.type===re.TEXT.type)return r.content.content;var i=o(n);return i?i.currentValue:"???"},a=function(e){return e.type===re.PARTICIPANT.type?Object(Z.a)(n):e.type===re.RANDOM_TEXT.type?Object(Z.a)(e.content.content):[e.content.content]},s=function(){var e=o(),n={},i={};t.forEach((function(t,r){var l=a(t);t.content.trackTurns&&e&&r in e&&e[r].availableValues.length>0&&(l=e[r].availableValues);var o=Object(Z.a)(l);if(t.content.isUnique&&i[t.type]){var c=l.filter((function(e){return!i[t.type].has(e)}));l=c.length>0?c:a(t)}var s,u=l[(s=l.length,Math.floor(Math.random()*s))],d=o.indexOf(u);-1!==d&&o.splice(d,1),i[t.type]||(i[t.type]=new Set),i[t.type].add(u),n[r]={currentValue:u,availableValues:o}}));var c=Object(Z.a)(r);c.push(n),l(c)};return Object(V.jsxs)("div",{className:"container container-renderer",children:[Object(V.jsx)(Y,{buttons:[{onClick:function(){return s()},text:"Shuffle"},{onClick:function(){l([])},text:"Reset"}]}),Object(V.jsx)("div",{className:"container-renderer--blocks",children:function(){var e=function(){var e=0;return t.forEach((function(t){t.type===re.PARTICIPANT.type&&t.content.isUnique&&(e+=1)})),e}();return t&&0!==t.length?e>n.length?Object(V.jsxs)(i.a.Fragment,{children:[Object(V.jsx)("p",{children:"Warning: There are more unique participant blocks than there are participants. Either add more participants or remove unique participant blocks to continue."}),Object(V.jsxs)("p",{children:["Number of participants: ",n.length," | Number of Unique Participant Blocks: ",e]})]}):t.map((function(e,t){return Object(V.jsx)(se,{value:c({index:t}),title:e.content.title},"render-item-".concat(t))})):Object(V.jsx)("p",{children:'Hit "Edit Conversation" and add content to get started!'})}()})]})},de="Edit",pe="Show",fe=function(){var e=Object(r.useState)(de),t=Object(a.a)(e,2),n=t[0],i=t[1],l=Object(r.useState)({participants:[],blocks:[]}),o=Object(a.a)(l,2),s=o[0],u=o[1],d=Object(r.useState)([]),p=Object(a.a)(d,2),f=p[0],h=p[1],b=Object(r.useRef)(),j=[{icon:"save",onClick:function(){return function(){var e=new Date,t="ConvoBlocks-".concat(e.toString().replace(" ","-")),n=JSON.stringify(s),r=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(r),l=document.createElement("a");l.href=i,l.download=t+".json",document.body.appendChild(l),l.click(),document.body.removeChild(l)}()},disabled:0===s.participants.length&&0===s.blocks.length,text:"Save Conversation"},{icon:"upload",onClick:function(){return b.current.click()},text:"Load Conversation"}],v=function(){switch(n){case de:return j.unshift({onClick:function(){return i(pe)},text:"Show Conversation"}),{buttons:j,content:Object(V.jsx)(ae,Object(c.a)(Object(c.a)({},s),{},{onUpdate:function(e){return u(e)}}))};case pe:return j.unshift({onClick:function(){i(de),h([])},text:"Edit Conversation"}),{buttons:j,content:Object(V.jsx)(ue,Object(c.a)(Object(c.a)({},s),{},{history:f,onUpdate:function(e){return h(e)}}))};default:return{content:Object(V.jsx)("p",{children:"Sorry, an error has occurred. Please refresh the page and try again."})}}}();return Object(V.jsxs)("div",{className:"container-app",children:[Object(V.jsx)(Q,{buttons:v.buttons}),v.content,Object(V.jsx)("input",{id:"uploadControl",type:"file",accept:".json",multiple:!1,ref:b,style:{display:"none"},onChange:function(e){return function(e){if(e.target.files[0]){var t=new FileReader;t.readAsText(e.target.files[0],"UTF-8"),t.onload=function(e){var t=e.target.result;try{var n=t?JSON.parse(t):{};u({participants:n.participants,blocks:n.blocks}),h([])}catch(r){alert("The provided file is invalid. Please try again.")}}}}(e)}})]})};var he=function(){return Object(V.jsx)("div",{className:"App",children:Object(V.jsx)(fe,{})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,l=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),l(e),o(e)}))};o.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(he,{})}),document.getElementById("root")),be()}],[[25,1,2]]]);
//# sourceMappingURL=main.604e0304.chunk.js.map